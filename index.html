<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Te Invito a Mi Cumple üéâ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: #2c2c2c;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow-x: hidden;
        position: relative;
        color: white;
        padding: 20px;
      }

      .background-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDQwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNjAwIiBmaWxsPSIjMmMyYzJjIi8+Cjx0ZXh0IHg9IjIwMCIgeT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjgiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJyb3RhdGUoLTIgMjAwIDEwMCkiPjx0c3BhbiBkeT0iMCI+VGUgSU5WSVRPIEEgTUk8L3RzcGFuPjx0c3BhbiBkeT0iMzUiIHg9IjIwMCI+Q1VNUExFPC90c3Bhbj48L3RleHQ+CjxjaXJjbGUgY3g9IjE2MCIgY3k9IjE4MCIgcj0iMTUiIGZpbGw9IiNmMzljMTIiLz4KPGNpcmNsZSBjeD0iMjQwIiBjeT0iMTgwIiByPSIxNSIgZmlsbD0iI2YzOWMxMiIvPgo8cGF0aCBkPSJNMTMwIDE5MFFIOTS4zODZMMTY0LjI4MiAyMDBIMTMwWm0zMCAwaDI1LjYxNGwxNi44OTYgMTBIMTYwWm0zMCAwaDI1LjYxNGwxNi44OTYgMTBIMTkwWm0zMCAwaDI1LjYxNGwxNi44OTYgMTBIMjIwWm0zMCAwaDI1LjYxNGwxNi44OTYgMTBIMjUwWm0zMCAwaDI1LjYxNGwxNi44OTYgMTBIMjgwWiIgZmlsbD0iI2Y5ZjlmOSIvPgo8ZWxsaXBzZSBjeD0iMTYwIiBjeT0iMTk1IiByeD0iMTAiIHJ5PSIxNSIgZmlsbD0iI2Y5ZjlmOSIvPgo8ZWxsaXBzZSBjeD0iMjQwIiBjeT0iMTk1IiByeD0iMTAiIHJ5PSIxNSIgZmlsbD0iI2Y5ZjlmOSIvPgo8dGV4dCB4PSIyMDAiIHk9IjMwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjM2IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiPkHDkU9TPC90ZXh0Pgo8dGV4dCB4PSIyMDAiIHk9IjQwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI4IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2YzOWMxMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTIgMjAwIDQwMCkiPjx0c3BhbiBkeT0iMCI+VE9NQVM8L3RzcGFuPjwvdGV4dD4KPC9zdmc+")
          no-repeat center center;
        background-size: cover;
        z-index: -1;
      }

      .invitation-container {
        background-image: url("https://i.postimg.cc/VNtwJTj5/Fondo-Invitacion-Cumple.png");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 20px;
        padding: 0;
        max-width: 90%;
        width: 350px;
        height: 600px;
        text-align: center;
        position: relative; /* Asegurar posici√≥n relativa */
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        backdrop-filter: none;
        border: none;
        margin-top: 0;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow: hidden; /* CR√çTICO: evita que el bot√≥n se escape */
      }

      .age-section {
        margin: 0;
        position: absolute;
        left: 40%;
        top: 51%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }

      .age-number {
        font-size: 120px;
        font-weight: bold;
        color: #fff;
        margin-bottom: 5px;
        text-shadow: 5px 5px 10px rgba(0, 0, 0, 0.8);
        position: relative;
        z-index: 10;
      }

      /* Emojis flotantes */
      .floating-emojis {
        position: absolute;
        top: 60px;
        left: 0;
        right: 0;
        z-index: 20;
        pointer-events: none;
      }

      .emoji-left {
        position: absolute;
        left: 20px;
        top: 0;
        font-size: 40px;
        animation: bounce 1s ease-in-out infinite;
      }

      .emoji-right {
        position: absolute;
        right: 20px;
        top: 0;
        font-size: 40px;
        animation: bounce 1s ease-in-out infinite reverse;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-15px);
        }
      }

      /* Footer con detalles */
      .event-footer {
        background: linear-gradient(
          135deg,
          rgba(97, 97, 97, 0.9) 0%,
          rgba(128, 128, 128, 0.85) 25%,
          rgba(64, 64, 64, 0.8) 75%,
          rgba(105, 105, 105, 0.85) 100%
        );
        padding: 12px 15px; /* Reducido de 20px */
        border-radius: 0 0 20px 20px;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        backdrop-filter: blur(10px);
        box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
        border-top: 2px solid rgba(255, 255, 255, 0.2);
      }

      .details {
        background: transparent;
        padding: 0;
        border-radius: 0;
        margin: 0 0 8px 0; /* Reducido de 15px */
        border: none;
        backdrop-filter: none;
      }

      .detail-item {
        margin: 4px 0; /* Reducido de 8px */
        font-size: 12px; /* Reducido de 14px */
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        line-height: 1.2; /* Agregado para reducir espaciado */
      }

      .detail-label {
        font-weight: bold;
        color: white;
        margin-right: 5px;
      }

      .location {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
        margin: 4px 0; /* Reducido de 8px */
      }

      .confirmation-section {
        margin-top: 8px; /* Reducido de 15px */
        background: transparent;
        padding: 0;
        border-radius: 0;
        border: none;
        backdrop-filter: none;
      }

      .confirmation-title {
        font-size: 14px; /* Reducido de 16px */
        margin-bottom: 8px; /* Reducido de 15px */
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      .buttons-container {
        display: flex;
        gap: 12px; /* Reducido de 15px */
        justify-content: center;
        flex-wrap: wrap;
        position: relative; /* IMPORTANTE: Para que el bot√≥n se posicione relativo a este contenedor */
        height: 45px; /* Reducido de 60px */
        align-items: center;
      }

      .response-button {
        padding: 8px 20px; /* Reducido de 12px 25px */
        font-size: 14px; /* Reducido de 16px */
        font-weight: bold;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        min-width: 70px; /* Reducido de 80px */
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        /* Estilos adicionales para iOS */
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        -webkit-appearance: none;
        appearance: none;
        outline: none;
        touch-action: manipulation;
        min-height: 36px; /* Reducido de 44px */
        min-width: 36px; /* Reducido de 44px */
      }

      .yes-button {
        background: linear-gradient(45deg, #27ae60, #2ecc71);
        position: relative;
        z-index: 10;
      }

      .yes-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 25px rgba(46, 204, 113, 0.4);
      }

      .no-button {
        background: linear-gradient(45deg, #e74c3c, #c0392b);
        position: absolute;
        transition: all 0.2s ease-out;
        user-select: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
      }

      .no-button:hover {
        transform: scale(1.05);
        box-shadow: 0 12px 25px rgba(231, 76, 60, 0.4);
      }

      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: #f39c12;
        animation: confetti-fall 3s linear infinite;
        z-index: 1000;
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      .celebration {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.95);
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        z-index: 1000;
        animation: celebration-appear 0.5s ease-out;
        max-width: 90%;
        border: 2px solid #f39c12;
      }

      @keyframes celebration-appear {
        0% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.5);
        }
        100% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .celebration h2 {
        color: #f39c12;
        font-size: 2.5em;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      .celebration p {
        color: #ecf0f1;
        font-size: 1.3em;
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .close-button {
        background: linear-gradient(45deg, #f39c12, #e67e22);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        font-size: 1.1em;
        cursor: pointer;
        margin-top: 20px;
        transition: all 0.3s ease;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .close-button:hover {
        background: linear-gradient(45deg, #e67e22, #d35400);
        transform: translateY(-2px);
      }

      .escape-message {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(231, 76, 60, 0.9);
        color: white;
        padding: 10px 20px;
        border-radius: 15px;
        font-weight: bold;
        z-index: 500;
        animation: fadeInOut 2s ease-out;
      }

      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateX(-50%) translateY(-20px);
        }
        50% {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-20px);
        }
      }

      .location-link {
        color: #fff;
        text-decoration: none;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        position: relative;
        transition: all 0.3s ease;
        padding: 2px 8px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        display: inline-block;
      }

      .location-link:hover {
        color: #3498db;
        background: rgba(52, 152, 219, 0.2);
        border-color: #3498db;
        text-shadow: 0 0 10px rgba(52, 152, 219, 0.6);
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
      }

      .location-link:active {
        transform: translateY(0) scale(1);
        box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);
      }

      /* Efecto de pulso al hacer hover */
      .location-link:hover::before {
        content: "";
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(45deg, #3498db, #2980b9);
        border-radius: 10px;
        z-index: -1;
        animation: pulse-border 1.5s infinite;
      }

      @keyframes pulse-border {
        0% {
          opacity: 0.7;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.02);
        }
        100% {
          opacity: 0.7;
          transform: scale(1);
        }
      }

      /* Agregar un icono de mapa que aparece en hover */
      .location-link:hover::after {
        content: " üó∫Ô∏è";
        animation: bounce-icon 0.6s ease-out;
      }

      @keyframes bounce-icon {
        0% {
          opacity: 0;
          transform: translateY(-10px);
        }
        50% {
          opacity: 1;
          transform: translateY(-5px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 768px) {
        .invitation-container {
          width: 95%;
          max-width: 350px;
          height: 600px;
        }

        .age-number {
          font-size: 80px;
        }

        .response-button {
          padding: 6px 16px; /* M√°s peque√±o en m√≥vil */
          font-size: 12px; /* M√°s peque√±o en m√≥vil */
          min-width: 60px;
          min-height: 32px;
        }

        .detail-item {
          font-size: 11px; /* M√°s peque√±o en m√≥vil */
          margin: 3px 0;
        }

        .confirmation-title {
          font-size: 12px; /* M√°s peque√±o en m√≥vil */
          margin-bottom: 6px;
        }

        .emoji-left {
          left: 15px;
          font-size: 35px;
        }

        .emoji-right {
          right: 15px;
          font-size: 35px;
        }

        .event-footer {
          padding: 10px 12px; /* M√°s compacto en m√≥vil */
        }

        .buttons-container {
          height: 40px; /* M√°s peque√±o en m√≥vil */
          gap: 10px;
        }

        /* Estilos espec√≠ficos para el enlace de ubicaci√≥n en m√≥viles */
        .location-link {
          padding: 4px 10px;
          font-size: 11px;
          min-height: 24px; /* √Årea t√°ctil m√≠nima */
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }

        .location-link:hover::before {
          animation: none; /* Reducir animaciones en m√≥vil */
        }
      }
    </style>
  </head>
  <body>
    <div class="invitation-container">
      <div class="floating-emojis">
        <div class="emoji-left">üéâ</div>
        <div class="emoji-right">üéÇ</div>
      </div>

      <div class="age-section">
        <div class="age-number">21</div>
      </div>

      <div class="event-footer">
        <div class="details">
          <div class="detail-item">
            <span class="detail-label">üìÖ FECHA:</span> MARTES 22 DE JULIO
          </div>
          <div class="detail-item">
            <span class="detail-label">üïê HORA:</span> 13:00 HS
          </div>
          <div class="location">
            <span class="detail-label">üìç LUGAR:</span>
            <a
              href="https://www.google.com.ar/maps/@-27.267339,-65.5494999,17z?hl=es&entry=ttu&g_ep=EgoyMDI1MDcxNS4xIKXMDSoASAFQAw%3D%3D"
              target="_blank"
              class="location-link"
            >
              Mi casa - R√≠o Seco
            </a>
          </div>
        </div>

        <div class="confirmation-section">
          <div class="confirmation-title">¬øConfirmas Asistencia?</div>

          <div class="buttons-container">
            <button class="response-button yes-button">S√≠ ‚úÖ</button>

            <button
              class="response-button no-button"
              id="noButton"
              onmouseover="escapeButton()"
              ontouchstart="escapeButton()"
            >
              No ‚ùå
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      let noButton = document.getElementById("noButton");
      let escapeCount = 0;
      let isEscaping = false;

      function resetNoButton() {
        // Funci√≥n de emergencia para resetear el bot√≥n "No"
        noButton.style.position = "relative";
        noButton.style.left = "auto";
        noButton.style.top = "auto";
        noButton.style.transform = "none";
        noButton.style.zIndex = "10";
        noButton.textContent = "No ‚ùå";
        isEscaping = false;
        console.log("Bot√≥n NO reseteado de emergencia");
      }

      function positionNoButton() {
        // Resetear la posici√≥n del bot√≥n "No" a su estado inicial
        resetNoButton();
        console.log("Bot√≥n NO reseteado a posici√≥n inicial");
      }

      function escapeButton() {
        if (isEscaping) return;

        isEscaping = true;
        escapeCount++;

        const messages = [
          "¬°Oleeee! üòÑ",
          "¬°Ven por favor! ü•∫",
          "¬°Tienes que venir! üéâ",
          "¬°No seas as√≠! üòÑ",
          "¬°Presiona S√ç! ü•∫",
          "¬°Vamos, di que s√≠! üéä",
        ];

        showEscapeMessage(
          messages[Math.floor(Math.random() * messages.length)]
        );

        const originalText = noButton.textContent;
        noButton.textContent = "¬°Noooo! üò≠";

        // Obtener el contenedor padre (.buttons-container) para posicionamiento relativo
        const buttonsContainer = document.querySelector(".buttons-container");
        const containerRect = buttonsContainer.getBoundingClientRect();

        // Dimensiones del √°rea de botones (m√°s peque√±a y segura)
        const areaWidth = containerRect.width;
        const areaHeight = containerRect.height;
        const buttonWidth = 70; // Ancho real del bot√≥n
        const buttonHeight = 36; // Alto real del bot√≥n
        const margin = 5; // Margen peque√±o dentro del contenedor de botones

        // Calcular posici√≥n aleatoria DENTRO del contenedor de botones
        const maxX = areaWidth - buttonWidth - margin;
        const maxY = areaHeight - buttonHeight - margin;

        let newX = margin + Math.random() * (maxX - margin);
        let newY = margin + Math.random() * (maxY - margin);

        // Asegurar que est√© dentro de los l√≠mites
        newX = Math.max(margin, Math.min(newX, maxX));
        newY = Math.max(margin, Math.min(newY, maxY));

        console.log(
          `Moviendo bot√≥n dentro del √°rea de botones: X=${newX}, Y=${newY}, √Årea: ${areaWidth}x${areaHeight}`
        );

        noButton.style.transform = "scale(0.8) rotate(15deg)";
        noButton.style.transition =
          "all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)";

        // Cambiar a posici√≥n absoluta dentro del contenedor de botones
        noButton.style.position = "absolute";
        noButton.style.zIndex = "100";

        setTimeout(() => {
          // Aplicar la posici√≥n calculada (relativa al contenedor de botones)
          noButton.style.left = newX + "px";
          noButton.style.top = newY + "px";
          noButton.style.transform = "scale(1) rotate(0deg)";

          setTimeout(() => {
            noButton.textContent = originalText;
            isEscaping = false;
          }, 300);
        }, 150);

        if (escapeCount % 3 === 0) {
          createHeartExplosion();
        }
      }

      function showEscapeMessage(message) {
        const escapeMessage = document.createElement("div");
        escapeMessage.className = "escape-message";
        escapeMessage.textContent = message;

        document.body.appendChild(escapeMessage);

        setTimeout(() => {
          escapeMessage.remove();
        }, 2000);
      }

      function createHeartExplosion() {
        const emojis = ["üíù", "üéâ", "üéÇ", "üç∫", "üéä", "‚ù§Ô∏è", "üíñ"];
        const buttonRect = noButton.getBoundingClientRect();
        const centerX = buttonRect.left + buttonRect.width / 2;
        const centerY = buttonRect.top + buttonRect.height / 2;

        for (let i = 0; i < 8; i++) {
          const particle = document.createElement("div");
          particle.style.position = "fixed";
          particle.style.left = centerX + "px";
          particle.style.top = centerY + "px";
          particle.style.fontSize = "20px";
          particle.style.pointerEvents = "none";
          particle.style.zIndex = "999";
          particle.textContent =
            emojis[Math.floor(Math.random() * emojis.length)];

          document.body.appendChild(particle);

          const angle = (Math.PI * 2 * i) / 8;
          const velocity = 30 + Math.random() * 30;
          const vx = Math.cos(angle) * velocity;
          const vy = Math.sin(angle) * velocity;

          let x = 0,
            y = 0;
          const gravity = 1.5;
          let vy_current = vy;

          const animate = () => {
            x += vx * 0.016;
            y += vy_current * 0.016;
            vy_current += gravity;

            particle.style.transform = `translate(${x}px, ${y}px)`;
            particle.style.opacity = Math.max(0, 1 - Math.abs(y) / 100);

            if (particle.style.opacity > 0) {
              requestAnimationFrame(animate);
            } else {
              particle.remove();
            }
          };

          requestAnimationFrame(animate);
        }
      }

      function confirmAssistance() {
        // Prevenir m√∫ltiples ejecuciones
        if (window.confirmationProcessing) return;
        window.confirmationProcessing = true;

        console.log("¬°Bot√≥n S√≠ activado!"); // Debug

        createConfetti();

        const celebration = document.createElement("div");
        celebration.className = "celebration";
        celebration.innerHTML = `
                <h2>üéâ ¬°ESOOOO! ü•≥</h2>
                <p>¬°Sab√≠a que dir√≠as que si! üòâ</p>
                <button class="close-button" onclick="closeCelebration()">¬°Te espero! üéä</button>
            `;

        document.body.appendChild(celebration);

        if (navigator.vibrate) {
          navigator.vibrate([200, 100, 200, 100, 200]);
        }

        // Resetear despu√©s de 3 segundos
        setTimeout(() => {
          window.confirmationProcessing = false;
        }, 3000);
      }

      function createConfetti() {
        const colors = [
          "#f39c12",
          "#e67e22",
          "#27ae60",
          "#2ecc71",
          "#e74c3c",
          "#c0392b",
          "#9b59b6",
        ];

        for (let i = 0; i < 60; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.left = Math.random() * 100 + "%";
            confetti.style.background =
              colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 2 + "s";
            confetti.style.animationDuration = Math.random() * 3 + 2 + "s";

            document.body.appendChild(confetti);

            setTimeout(() => {
              confetti.remove();
            }, 5000);
          }, i * 80);
        }
      }

      function closeCelebration() {
        const celebration = document.querySelector(".celebration");
        if (celebration) {
          celebration.remove();
        }
      }

      window.addEventListener("load", () => {
        positionNoButton();
      });

      window.addEventListener("orientationchange", () => {
        setTimeout(() => {
          positionNoButton();
        }, 100);
      });

      noButton.addEventListener("click", (e) => {
        e.preventDefault();
        escapeButton();
      });

      noButton.addEventListener("touchstart", (e) => {
        e.preventDefault();
        escapeButton();
      });

      noButton.addEventListener("contextmenu", (e) => {
        e.preventDefault();
        escapeButton();
      });

      // Event listeners mejorados para el bot√≥n "S√≠" - compatible con iOS
      const yesButton = document.querySelector(".yes-button");

      if (yesButton) {
        // M√∫ltiples eventos para asegurar que funcione en iOS
        yesButton.addEventListener(
          "touchstart",
          function (e) {
            console.log("Yes button touchstart detectado");
            yesButton.style.backgroundColor = "#1e7e34"; // Feedback visual inmediato
          },
          { passive: true }
        );

        yesButton.addEventListener(
          "touchend",
          function (e) {
            console.log("Yes button touchend detectado");
            e.preventDefault();
            yesButton.style.backgroundColor = ""; // Restaurar color
            confirmAssistance();
          },
          { passive: false }
        );

        yesButton.addEventListener("click", function (e) {
          console.log("Yes button click detectado");
          e.preventDefault();
          confirmAssistance();
        });

        // Evento adicional para iOS que a veces funciona mejor
        yesButton.addEventListener("pointerup", function (e) {
          console.log("Yes button pointerup detectado");
          confirmAssistance();
        });
      }

      // Funci√≥n de emergencia - se puede activar desde la consola
      window.resetButton = function () {
        resetNoButton();
        alert("¬°Bot√≥n reseteado!");
      };

      // Auto-reset cada 10 segundos si el bot√≥n est√° fuera de vista
      setInterval(() => {
        const rect = noButton.getBoundingClientRect();
        const container = document.querySelector(".invitation-container");
        const containerRect = container.getBoundingClientRect();

        // Verificar si el bot√≥n est√° completamente fuera del contenedor
        if (
          rect.left < containerRect.left ||
          rect.right > containerRect.right ||
          rect.top < containerRect.top ||
          rect.bottom > containerRect.bottom
        ) {
          console.log(
            "Bot√≥n detectado fuera del contenedor - reseteando autom√°ticamente"
          );
          resetNoButton();
        }
      }, 5000); // Verificar cada 5 segundos
    </script>
  </body>
</html>
